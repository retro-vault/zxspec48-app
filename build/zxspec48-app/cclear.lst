                                      1         ;; cclear: clear screen (via ROM routine)
                                      2         ;;
                                      3         ;; gpl-2.0-or-later (see: LICENSE)
                                      4         ;; copyright (c) 2025 tomaz stih
                                      5 
                                      6         .module cclear
                                      7         .optsdcc -mz80 sdcccall(1)
                                      8 
                                      9         .area   _CODE
                                     10 
                                     11         .globl  _cclear
                                     12 
                                     13         ;; cclear()
                                     14         ;; inputs: -
                                     15         ;; clobbers: whatever ROM cls clobbers
    00000000                         16 _cclear:
    00000000 FD E5            [15]   17         push    iy                      ; preserve IY: ROM uses sysvars at 0x5C3A
    00000002 FD 21 3A 5C      [14]   18         ld      iy,#0x5c3a
    00000006 CD AF 0D         [17]   19         call    0x0DAF                  ; clear screen
    00000009 FD E1            [14]   20         pop     iy
    0000000B C9               [10]   21         ret
